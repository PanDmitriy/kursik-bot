# üìà KursikBot ‚Äî Telegram-–±–æ—Ç –¥–ª—è –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç

Telegram-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã –≤–∞–ª—é—Ç –∫ –±–µ–ª–æ—Ä—É—Å—Å–∫–æ–º—É —Ä—É–±–ª—é (BYN), –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è –∏ —Å —É—á—ë—Ç–æ–º —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–∏–±–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø–æ–¥–ø–∏—Å–æ–∫, –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞, –≤—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ –∏ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- `/start` ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- `/rate [–≤–∞–ª—é—Ç–∞]` ‚Äî –∫—É—Ä—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç—ã –∫ BYN (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é USD)
- `/subscribe` ‚Äî –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—É—é —Ä–∞—Å—Å—ã–ª–∫—É (–≤—ã–±–æ—Ä –≤–∞–ª—é—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏)
- `/unsubscribe` ‚Äî –æ—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∞–ª—é—Ç—É
- `/subscriptions` ‚Äî —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫
- `/set_timezone` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ (–ø–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏, –∏–∑ —Å–ø–∏—Å–∫–∞ –∏–ª–∏ –ø–æ–∏—Å–∫)
- –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ SQLite
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è —Å —É—á—ë—Ç–æ–º —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- Cron-—Ä–∞—Å—Å—ã–ª–∫–∞ —Å –ø–æ–º–æ—â—å—é `node-cron`
- –ö—É—Ä—Å—ã –±–µ—Ä—É—Ç—Å—è —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ API –ù–ë–†–ë
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–æ—á–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (—á–∞—Å—ã –∏ –º–∏–Ω—É—Ç—ã)
- –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–∞–ª—é—Ç—ã:** USD, EUR, RUB, CNY, PLN

---

## üõ†Ô∏è –°—Ç–µ–∫

- Node.js + TypeScript
- [grammY](https://grammy.dev/) ‚Äî Telegram Bot API
- Axios ‚Äî –∑–∞–ø—Ä–æ—Å—ã –∫ API –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç
- SQLite + better-sqlite3 ‚Äî –ø—Ä–æ—Å—Ç–∞—è –ë–î
- node-cron ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä–∞—Å—Å—ã–ª–∫–∏
- luxon ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–æ–π/–≤—Ä–µ–º–µ–Ω–µ–º –∏ —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏
- tz-lookup ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
- dotenv ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ts-node-dev ‚Äî –∑–∞–ø—É—Å–∫ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- copyfiles ‚Äî –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ SQL —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (FSD light)

```
src/
‚îú‚îÄ‚îÄ app/                  # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ bots/telegram/        # Telegram-–±–æ—Ç
‚îú‚îÄ‚îÄ shared/api/           # API –¥–ª—è –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç (–ù–ë–†–ë)
‚îú‚îÄ‚îÄ shared/db/            # –†–∞–±–æ—Ç–∞ —Å SQLite, —Å—Ö–µ–º–∞ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ shared/services/      # –û–±—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã (timezone.service)
‚îú‚îÄ‚îÄ shared/utils/         # –£—Ç–∏–ª–∏—Ç—ã (message-manager)
‚îú‚îÄ‚îÄ entities/user/        # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–æ–¥–ø–∏—Å–æ–∫
‚îú‚îÄ‚îÄ features/rates/       # –ö–æ–º–∞–Ω–¥–∞ /rate
‚îú‚îÄ‚îÄ features/subscribe/   # –ü–æ–¥–ø–∏—Å–∫–∞, –æ—Ç–ø–∏—Å–∫–∞, —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫
‚îú‚îÄ‚îÄ features/notifier/    # –ú–µ—Ö–∞–Ω–∏–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îú‚îÄ‚îÄ features/timezone/    # –†–∞–±–æ—Ç–∞ —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏
```

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+ 
- npm –∏–ª–∏ yarn
- Git

### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone <repository-url>
cd kursik-bot
npm install
```

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å —Ç–æ–∫–µ–Ω–æ–º:

```bash
cp env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π .env –∏ –¥–æ–±–∞–≤—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
```

–ò–ª–∏ —Å–æ–∑–¥–∞–π `.env` –≤—Ä—É—á–Ω—É—é:
```
BOT_TOKEN=your_telegram_bot_token
NODE_ENV=development  # –∏–ª–∏ production
```

**–ë–æ—Ç—ã:**
- **–ü—Ä–æ–¥–∞–∫—à–Ω:** [@pandimun_kursik_bot](https://t.me/pandimun_kursik_bot) ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:** [@pandimun_kursik_dev_bot](https://t.me/pandimun_kursik_dev_bot) ‚Äî –±–æ—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

---

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–¥–∏–Ω—ã–π —Ñ–∞–π–ª `.env` –¥–ª—è –≤—Å–µ—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π:

- **`env.example`** ‚Äî –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞–º–∏
- **`.env`** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∏–∑ env.example)

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
- `BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```bash
# –ö–æ–ø–∏—Ä—É–µ–º –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω
cp env.example .env

# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –∏ –¥–æ–±–∞–≤–ª—è–µ–º —Ç–æ–∫–µ–Ω
nano .env
```

## üö¥ –ó–∞–ø—É—Å–∫ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

```bash
npm run dev
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

- `npm run dev` ‚Äî –∑–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π
- `npm run build` ‚Äî —Å–±–æ—Ä–∫–∞ TypeScript –ø—Ä–æ–µ–∫—Ç–∞
- `npm run start` ‚Äî –∑–∞–ø—É—Å–∫ —Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- `npm run copy-assets` ‚Äî –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ SQL —Ñ–∞–π–ª–æ–≤ –≤ dist
- `npm run test` ‚Äî –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (–ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

---

## üê≥ Docker –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ —Å Docker

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd kursik-bot

# –ö–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp env.example .env

# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º .env –∏ –¥–æ–±–∞–≤–ª—è–µ–º —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
nano .env

# –ó–∞–ø—É—Å–∫–∞–µ–º —á–µ—Ä–µ–∑ Docker Compose
docker-compose up -d
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose down && docker-compose up -d --build
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –¥–µ–ø–ª–æ—è:

**Linux/macOS:**
```bash
chmod +x deploy.sh
./deploy.sh
```

**Windows PowerShell:**
```powershell
.\deploy.ps1
```

## üîÑ CI/CD

- **CI (`.github/workflows/ci.yml`)** ‚Äî –Ω–∞ –∫–∞–∂–¥–æ–º `push` –∏ `pull request` –≤ `main` –∏ `develop` –≤—ã–ø–æ–ª–Ω—è–µ—Ç `npm ci`, —Å–æ–±–∏—Ä–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç `dist`.
- **CD (`.github/workflows/deploy.yml`)** ‚Äî –ø—Ä–∏ `push` –≤ `main` –ª–∏–±–æ –≤—Ä—É—á–Ω—É—é (`workflow_dispatch`) –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø–æ SSH –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç `deploy.sh` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ GitHub Actions

–°–æ–∑–¥–∞–π—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è ‚Üí *Settings ‚Üí Secrets and variables ‚Üí Actions* —Å–ª–µ–¥—É—é—â—É—é –≥—Ä—É–ø–ø—É —Å–µ–∫—Ä–µ—Ç–æ–≤:

- `SSH_HOST` ‚Äî –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ (IP –∏–ª–∏ –¥–æ–º–µ–Ω).
- `SSH_USER` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –¥–µ–ø–ª–æ–π.
- `SSH_KEY` ‚Äî –ø—Ä–∏–≤–∞—Ç–Ω—ã–π SSH-–∫–ª—é—á –≤ —Ñ–æ—Ä–º–∞—Ç–µ OpenSSH (—Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –ø—É–±–ª–∏—á–Ω—ã–º –∫–ª—é—á–æ–º –≤ `~/.ssh/authorized_keys` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ).
- `SSH_WORKDIR` ‚Äî –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
- (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) `SSH_PORT` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π SSH-–ø–æ—Ä—Ç, –µ—Å–ª–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `22`.

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —É–∂–µ —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω `.env`. –ü—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ workflow —à–∞–≥–∏ `git fetch/reset` –ø–æ–¥—Ç—è–Ω—É—Ç —Å–≤–µ–∂–∏–π –∫–æ–¥ –∏ –∑–∞–ø—É—Å—Ç—è—Ç `deploy.sh`, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ—Å–æ–±–µ—Ä—ë—Ç –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

---

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SQLite. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ñ–∞–π–ª `data.sqlite` –∏ —Ç–∞–±–ª–∏—Ü–∞ `subscriptions` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

```
chat_id INTEGER   # Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
currency TEXT     # –í–∞–ª—é—Ç–∞ (USD, EUR, ...)
hour INTEGER      # –ß–∞—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (0-23)
minute INTEGER    # –ú–∏–Ω—É—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (0-59)
timezone TEXT     # –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, Europe/Minsk)
```

---

## ‚è∞ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –ø–æ–¥–ø–∏—Å–∫–∏

- –î–ª—è –∫–∞–∂–¥–æ–π –ø–æ–¥–ø–∏—Å–∫–∏ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –≤–∞–ª—é—Ç—É –∏ —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è (—á–∞—Å—ã –∏ –º–∏–Ω—É—Ç—ã).
- –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å.
- –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/set_timezone`:
  - –ü–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ (–æ—Ç–ø—Ä–∞–≤–∫–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è)
  - –ò–∑ —Å–ø–∏—Å–∫–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤
  - –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –≥–æ—Ä–æ–¥–∞ –∏–ª–∏ —Ä–µ–≥–∏–æ–Ω–∞
  - –í—ã–±–æ—Ä –ø–æ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º —Ä–µ–≥–∏–æ–Ω–∞–º
- –í—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–æ—á–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å –º–∏–Ω—É—Ç–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é.

---

## üß© –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –±–∞–Ω–∫–∞ –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–µ–ª–∞—Ä—É—Å—å (–ù–ë–†–ë):

### API Endpoint

```
GET https://www.nbrb.by/api/exrates/rates/{currency}?parammode=2
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–∞–ª—é—Ç—ã

- **USD** ‚Äî –¥–æ–ª–ª–∞—Ä –°–®–ê
- **EUR** ‚Äî –µ–≤—Ä–æ  
- **RUB** ‚Äî —Ä–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å
- **CNY** ‚Äî –∫–∏—Ç–∞–π—Å–∫–∏–π —é–∞–Ω—å
- **PLN** ‚Äî –ø–æ–ª—å—Å–∫–∏–π –∑–ª–æ—Ç—ã–π

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—É—Ä—Å–∞ USD:
```
GET https://www.nbrb.by/api/exrates/rates/USD?parammode=2
```

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞

```json
{
  "Cur_ID": 145,
  "Date": "2024-01-15T00:00:00",
  "Cur_Abbreviation": "USD",
  "Cur_Scale": 1,
  "Cur_Name": "–î–æ–ª–ª–∞—Ä –°–®–ê",
  "Cur_OfficialRate": 3.25
}
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –ö—É—Ä—Å—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏
- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∫—É—Ä—Å –ù–ë–†–ë
- –ü—Ä–∏ –æ—à–∏–±–∫–µ API –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üöÄ –ü—Ä–æ–¥–∞–∫—à–Ω –¥–µ–ø–ª–æ–π

### PM2 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PM2 –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2
npm install -g pm2

# –°–æ–∑–¥–∞–Ω–∏–µ ecosystem —Ñ–∞–π–ª–∞
cat > ecosystem.config.js << EOF
module.exports = {
  apps: [{
    name: 'kursik-bot',
    script: 'dist/app/main.js',
    env: {
      NODE_ENV: 'production',
      BOT_TOKEN: process.env.BOT_TOKEN
    }
  }]
};
EOF

# –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ PM2
pm2 start ecosystem.config.js
pm2 save
pm2 startup
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ PM2

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
pm2 list

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
pm2 logs kursik-bot

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 restart kursik-bot

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
pm2 stop kursik-bot
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ

```bash
# –ü–æ–¥—Ç—è–≥–∏–≤–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull origin main
npm install

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —á–µ—Ä–µ–∑ PM2
pm2 restart kursik-bot
```

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** —Å–º. [PRODUCTION.md](PRODUCTION.md)

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ë–æ—Ç –≤—ã–≤–æ–¥–∏—Ç –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ:
- –ó–∞–ø—É—Å–∫–µ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –±–æ—Ç–∞
- –û—à–∏–±–∫–∞—Ö –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å API –ù–ë–†–ë
- –û—à–∏–±–∫–∞—Ö –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ PM2

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 logs kursik-bot --lines 100

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
pm2 monit

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pm2 show kursik-bot
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Docker

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker-compose logs -f kursik-bot

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats kursik-bot
```

---

## üîÆ –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±–∞–∑–æ–≤—ã—Ö –≤–∞–ª—é—Ç (–Ω–µ —Ç–æ–ª—å–∫–æ BYN)
- Telegram Payments API –¥–ª—è –ø—Ä–µ–º–∏—É–º-–ø–æ–¥–ø–∏—Å–∫–∏
- –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –±–∞–Ω–∫–∞–º–∏ –°–ù–ì
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–∞–ª—é—Ç (GBP, JPY, CHF)
- –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫—É—Ä—Å–∞—Ö –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö

---

## üë®‚Äçüíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é Feature-Sliced Design (FSD):

- **`src/app/`** ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **`src/bots/telegram/`** ‚Äî Telegram Bot API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **`src/shared/`** ‚Äî –æ–±—â–∏–µ –º–æ–¥—É–ª–∏ (API, –ë–î)
- **`src/entities/`** ‚Äî –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- **`src/features/`** ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ (–∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞)

### –†–∞–±–æ—Ç–∞ —Å –∫–æ–¥–æ–º

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev

# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ TypeScript
npx tsc --noEmit
```

### Git workflow

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ—Å—Ç–æ–π Git workflow —Å –≤–µ—Ç–∫–∞–º–∏:

- `main` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ç–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
- `feature/*` ‚Äî –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `fix/*` ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤
- `docs/*` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** —Å–º. [CONTRIBUTING.md](CONTRIBUTING.md)

---

## ‚ùì FAQ

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞?

1. –ù–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –≤ —Ñ–∞–π–ª `.env`

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞ –≤ `.env`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω (`pm2 list` –∏–ª–∏ `docker-compose ps`)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

### –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π?

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/unsubscribe` –¥–ª—è –æ—Ç–º–µ–Ω—ã —Ç–µ–∫—É—â–µ–π –ø–æ–¥–ø–∏—Å–∫–∏, –∑–∞—Ç–µ–º `/subscribe` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π —Å –Ω—É–∂–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º.

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –ª–∏ –¥—Ä—É–≥–∏–µ –≤–∞–ª—é—Ç—ã?

–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ USD, EUR, RUB, CNY, PLN. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–∞–ª—é—Ç —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞.

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

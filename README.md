# üìà CurrencyBot ‚Äî Telegram-–±–æ—Ç –¥–ª—è –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç

Telegram-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã –≤–∞–ª—é—Ç –∫ –±–µ–ª–æ—Ä—É—Å—Å–∫–æ–º—É —Ä—É–±–ª—é (BYN), –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è –∏ —Å —É—á—ë—Ç–æ–º —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–∏–±–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø–æ–¥–ø–∏—Å–æ–∫, –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞, –≤—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ –∏ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- `/start` ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- `/rate [–≤–∞–ª—é—Ç–∞]` ‚Äî –∫—É—Ä—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç—ã –∫ BYN (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é USD)
- `/subscribe` ‚Äî –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—É—é —Ä–∞—Å—Å—ã–ª–∫—É (–≤—ã–±–æ—Ä –≤–∞–ª—é—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏)
- `/unsubscribe` ‚Äî –æ—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∞–ª—é—Ç—É
- `/subscriptions` ‚Äî —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫
- `/set_timezone` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ (–ø–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∏–ª–∏ –∏–∑ —Å–ø–∏—Å–∫–∞)
- –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ SQLite
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è —Å —É—á—ë—Ç–æ–º —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- Cron-—Ä–∞—Å—Å—ã–ª–∫–∞ —Å –ø–æ–º–æ—â—å—é `node-cron`
- –ö—É—Ä—Å—ã –±–µ—Ä—É—Ç—Å—è —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ API –ù–ë–†–ë

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–∞–ª—é—Ç—ã:** USD, EUR, RUB, CNY, PLN

---

## üõ†Ô∏è –°—Ç–µ–∫

- Node.js + TypeScript
- [grammY](https://grammy.dev/) ‚Äî Telegram Bot API
- Axios ‚Äî –∑–∞–ø—Ä–æ—Å—ã –∫ API –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç
- SQLite + better-sqlite3 ‚Äî –ø—Ä–æ—Å—Ç–∞—è –ë–î
- node-cron ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä–∞—Å—Å—ã–ª–∫–∏
- luxon ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–æ–π/–≤—Ä–µ–º–µ–Ω–µ–º –∏ —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏
- tz-lookup ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
- dotenv ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ts-node-dev ‚Äî –∑–∞–ø—É—Å–∫ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (FSD light)

```
src/
‚îú‚îÄ‚îÄ app/                  # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ bots/telegram/        # Telegram-–±–æ—Ç
‚îú‚îÄ‚îÄ shared/api/           # API –¥–ª—è –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç (–ù–ë–†–ë)
‚îú‚îÄ‚îÄ shared/db/            # –†–∞–±–æ—Ç–∞ —Å SQLite –∏ —Å—Ö–µ–º–∞
‚îú‚îÄ‚îÄ entities/user/        # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–æ–¥–ø–∏—Å–æ–∫
‚îú‚îÄ‚îÄ features/rates/       # –ö–æ–º–∞–Ω–¥–∞ /rate
‚îú‚îÄ‚îÄ features/subscribe/   # –ü–æ–¥–ø–∏—Å–∫–∞, –æ—Ç–ø–∏—Å–∫–∞, —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫
‚îú‚îÄ‚îÄ features/notifier/    # –ú–µ—Ö–∞–Ω–∏–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îú‚îÄ‚îÄ features/timezone/    # –†–∞–±–æ—Ç–∞ —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏
```

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/your-username/currency-bot.git
cd currency-bot
npm install
```

–°–æ–∑–¥–∞–π `.env` —Å —Ç–æ–∫–µ–Ω–æ–º:

```
BOT_TOKEN=your_telegram_bot_token
```

---

## üö¥ –ó–∞–ø—É—Å–∫ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

```bash
npm run dev
```

---

## üóÑÔ∏è –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SQLite. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ñ–∞–π–ª `data.sqlite` –∏ —Ç–∞–±–ª–∏—Ü–∞ `subscriptions` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

```
chat_id INTEGER   # Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
currency TEXT     # –í–∞–ª—é—Ç–∞ (USD, EUR, ...)
hour INTEGER      # –ß–∞—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (0-23)
timezone TEXT     # –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, Europe/Minsk)
```

---

## ‚è∞ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –ø–æ–¥–ø–∏—Å–∫–∏

- –î–ª—è –∫–∞–∂–¥–æ–π –ø–æ–¥–ø–∏—Å–∫–∏ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –≤–∞–ª—é—Ç—É –∏ –≤—Ä–µ–º—è (09:00, 12:00, 18:00).
- –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å.
- –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/set_timezone` (–ø–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∏–ª–∏ –∏–∑ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤).
- –í—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

---

## üß© –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –±–∞–Ω–∫–∞ –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–µ–ª–∞—Ä—É—Å—å (–ù–ë–†–ë):

```
GET https://www.nbrb.by/api/exrates/rates/{currency}?parammode=2
```

–ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è USD:
```
GET https://www.nbrb.by/api/exrates/rates/USD?parammode=2
```

---

## üîÆ –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±–∞–∑–æ–≤—ã—Ö –≤–∞–ª—é—Ç
- Telegram Payments API –¥–ª—è –ø—Ä–µ–º–∏—É–º-–ø–æ–¥–ø–∏—Å–∫–∏
- –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

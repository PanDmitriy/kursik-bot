# Kursik Bot - Продакшн Деплой

## Быстрый старт

### 1. Подготовка окружения

```bash
# Клонируем репозиторий
git clone <repository-url>
cd kursik-bot

# Копируем файл с переменными окружения
cp env.example .env

# Редактируем переменные окружения
nano .env
```

### 2. Настройка переменных окружения

Отредактируйте файл `.env`:

```env
# Обязательная переменная
BOT_TOKEN=your_telegram_bot_token_here
```

**Примечание:** Проект использует только переменную `BOT_TOKEN`. База данных SQLite создается автоматически в файле `data.sqlite`, а курсы валют получаются через API Национального банка Беларуси без дополнительной настройки.

### 3. Запуск

#### Вариант 1: Docker Compose (рекомендуется)

```bash
# Автоматический деплой
chmod +x deploy.sh
./deploy.sh

# Или вручную
docker-compose up -d
```

#### Вариант 2: Локальный запуск

```bash
# Установка зависимостей
npm install

# Сборка проекта
npm run build

# Запуск в продакшене
npm run start
```

## Управление

### Просмотр логов
```bash
docker-compose logs -f
```

### Остановка
```bash
docker-compose down
```

### Перезапуск
```bash
docker-compose restart
```

### Обновление
```bash
git pull
./deploy.sh
```

## Мониторинг

- Логи контейнера: `docker-compose logs -f`
- Статус контейнера: `docker-compose ps`
- Использование ресурсов: `docker stats`

## Структура файлов

```
kursik-bot/
├── src/                 # Исходный код
├── dist/                # Скомпилированный код (создается при сборке)
├── data/                # База данных SQLite
├── Dockerfile           # Конфигурация Docker
├── docker-compose.yml   # Конфигурация Docker Compose
├── deploy.sh           # Скрипт автоматического деплоя
├── env.example         # Пример переменных окружения
└── .env                # Переменные окружения (создать вручную)
```

## Безопасность

- Файл `.env` не должен попадать в git
- Используйте сильные токены для ботов
- Регулярно обновляйте зависимости
- Мониторьте логи на предмет ошибок
